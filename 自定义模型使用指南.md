# 自定义模型使用指南 🤖

## 🎯 如何使用 opengvlab/internvl3-14b:free 模型

我已经为你添加了完整的自定义模型支持！现在你可以轻松使用任何模型，包括你想要的 `opengvlab/internvl3-14b:free`。

## 🚀 快速设置步骤

### 方法1: 从预设列表选择（推荐）
1. **启动应用**: `python comic_translator_app.py`
2. **点击设置**: 主界面的"设置"按钮
3. **选择模型标签页**: 点击"模型设置"标签
4. **选择预设模型**: 在下拉菜单中找到 `opengvlab/internvl3-14b:free`
5. **保存设置**: 点击"保存"按钮

### 方法2: 自定义输入（适用于任何模型）
1. **启动应用**: `python comic_translator_app.py`
2. **点击设置**: 主界面的"设置"按钮
3. **选择模型标签页**: 点击"模型设置"标签
4. **输入自定义模型**: 在"或输入自定义模型名称"框中输入 `opengvlab/internvl3-14b:free`
5. **使用自定义模型**: 点击"使用自定义模型"按钮
6. **保存设置**: 点击"保存"按钮

## 🔧 详细设置界面说明

### 设置窗口布局
当你点击"设置"按钮后，会看到一个包含三个标签页的窗口：

#### 1. API服务商标签页
- **选择服务商**: 确保选择 "OpenRouter"（因为这个模型在OpenRouter上）
- **API密钥**: 输入你的OpenRouter API密钥
- **其他配置**: 通常使用默认值即可

#### 2. 模型设置标签页 ⭐
这是设置模型的主要区域：

**预设模型选择区域:**
- 下拉菜单包含常用模型
- 现在已包含 `opengvlab/internvl3-14b:free`
- 选择后会自动显示模型信息

**自定义模型输入区域:**
- 文本输入框：可以输入任何模型名称
- "使用自定义模型"按钮：确认使用自定义模型
- 支持任何OpenRouter支持的模型

**模型信息显示区域:**
- 显示当前选择模型的详细信息
- 包含模型特点和使用建议

#### 3. 高级设置标签页
- **提示词自定义**: 可以调整AI检测的提示词
- **翻译设置**: 目标语言和翻译风格

### 底部按钮
- **保存**: 应用所有更改
- **取消**: 放弃更改
- **重置默认**: 一键恢复所有默认设置 ⭐

## 🎮 使用 InternVL3-14B 模型的优势

### 模型特点
- **免费使用**: `:free` 后缀表示免费模型
- **视觉理解强**: 专门优化的视觉语言模型
- **多模态能力**: 同时理解图像和文本
- **中文友好**: 对中文内容理解较好

### 适用场景
- **漫画对话框检测**: 精确识别对话区域
- **文本识别**: 准确识别图片中的文字
- **翻译任务**: 理解上下文进行翻译
- **成本控制**: 免费使用，无额外费用

## 🔄 一键重置功能

### 何时使用重置
- 配置出现问题时
- 想要恢复默认设置时
- 测试完自定义配置后
- API密钥或模型设置错误时

### 重置步骤
1. **打开设置**: 点击主界面"设置"按钮
2. **点击重置**: 点击左下角"重置默认"按钮
3. **确认操作**: 在弹出的确认对话框中点击"是"
4. **重启应用**: 按提示重启应用以生效

### 重置后的状态
- 所有配置恢复到初始状态
- API服务商: OpenRouter
- 模型: google/gemini-2.5-pro-preview
- 所有自定义设置清除

## 🛠️ 故障排除

### 问题1: 找不到设置按钮
**解决方案**: 
- 确保应用已正确启动
- 设置按钮在主界面左侧的"文件操作"区域
- 如果界面异常，尝试重启应用

### 问题2: 自定义模型不生效
**解决方案**:
1. 确保在"自定义模型输入"框中输入了正确的模型名称
2. 点击"使用自定义模型"按钮确认
3. 点击"保存"按钮应用设置
4. 检查状态栏是否显示新的模型名称

### 问题3: 模型调用失败
**解决方案**:
1. 检查API密钥是否正确
2. 确认网络连接正常
3. 验证模型名称是否正确（区分大小写）
4. 检查OpenRouter是否支持该模型

### 问题4: 重置按钮不起作用
**解决方案**:
1. 确保点击了"重置默认"按钮
2. 在确认对话框中选择"是"
3. 重启应用以使重置生效
4. 如果问题持续，手动删除 `user_config.json` 文件

## 💡 使用技巧

### 模型选择建议
- **检测任务**: 推荐 InternVL3-14B 或 Gemini Pro Vision
- **翻译任务**: 推荐 GPT-4o 或 Claude 3.5 Sonnet
- **成本考虑**: 优先选择带 `:free` 后缀的免费模型
- **中文内容**: 推荐 Qwen 或 InternVL 系列

### 配置优化
1. **测试不同模型**: 比较不同模型的检测和翻译效果
2. **保存配置**: 找到满意的配置后及时保存
3. **备份设置**: 可以备份 `user_config.json` 文件
4. **定期更新**: 关注新模型的发布和更新

### 高级用法
- **组合使用**: 检测用一个模型，翻译用另一个模型
- **批量测试**: 使用不同模型处理同一张图片比较效果
- **自定义提示词**: 根据漫画类型调整检测提示词

## 🎉 开始使用

现在你已经了解了所有功能，立即开始使用吧！

1. **启动应用**: `python comic_translator_app.py`
2. **配置模型**: 设置 → 模型设置 → 选择或输入 `opengvlab/internvl3-14b:free`
3. **保存设置**: 点击保存按钮
4. **开始翻译**: 选择图片，享受AI翻译的便利

**记住**: 配置一次，永久使用！如果遇到问题，随时可以使用"重置默认"功能恢复。🚀
