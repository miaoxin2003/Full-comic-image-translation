# 完整版漫画翻译器使用指南 🎯

## 🎉 问题已解决！

我已经修复了原版应用的设置界面问题，现在你有一个**既能翻译又有完整设置功能**的版本！

## 🚀 立即开始使用

### 启动完整版应用
```bash
python comic_translator_app.py
```

**这个版本包含所有功能**：
- ✅ **完整的翻译功能** - 选择图片、AI检测、手动调整、翻译
- ✅ **修复的设置界面** - 三个标签页都能正常显示
- ✅ **自定义模型支持** - 包括你需要的 InternVL3-14B
- ✅ **一键重置功能** - 恢复默认设置

## 🎮 完整使用流程

### 第一步：配置API设置
1. **启动应用**：`python comic_translator_app.py`
2. **点击设置**：在左侧面板点击"设置"按钮
3. **配置API**：
   - **API服务商标签页**：选择 OpenRouter，输入API密钥
   - **模型设置标签页**：选择或输入 `opengvlab/internvl3-14b:free`
   - **高级设置标签页**：可选的提示词和翻译设置
4. **保存设置**：点击"保存"按钮

### 第二步：翻译漫画
1. **选择图片**：点击"选择图片"按钮，选择漫画文件
2. **AI检测**：点击"AI检测对话框"，等待AI识别文本区域
3. **手动调整**（可选）：
   - 点击检测结果列表中的项目查看
   - 使用"添加区域"手动添加遗漏的区域
   - 使用"删除选中"删除错误的检测
4. **翻译文本**：
   - 选择一个检测区域
   - 在"原文"框中查看识别的文本
   - 点击"AI翻译"获取翻译
   - 在"译文"框中编辑翻译结果
   - 点击"应用翻译"保存
5. **保存结果**：点击"保存结果"保存处理后的图片

## 🔧 设置界面详解

### API服务商标签页
- **OpenRouter**（推荐）：一个账户访问多种模型
- **OpenAI**：官方GPT模型
- **Anthropic**：官方Claude模型
- **自定义API**：任何OpenAI兼容的API

### 模型设置标签页 ⭐
**现在可以正常显示了！**

#### 预设模型选择
- 下拉菜单包含常用模型
- 包括你需要的 `opengvlab/internvl3-14b:free`
- 选择后自动显示模型信息

#### 自定义模型输入
- 输入框：可以输入任何模型名称
- 支持所有OpenRouter支持的模型
- 实时显示模型信息

#### 模型信息显示
- 显示当前选择模型的详细信息
- 包含模型特点和使用建议
- 针对InternVL模型的专门说明

### 高级设置标签页
- **AI检测提示词**：自定义AI检测行为
- **翻译设置**：目标语言和翻译风格
- **个性化配置**：根据需求调整

## 🎯 设置 InternVL3-14B 模型

### 方法1：预设选择
1. 打开设置 → 模型设置标签页
2. 在下拉菜单中选择 `opengvlab/internvl3-14b:free`
3. 查看模型信息确认
4. 点击保存

### 方法2：自定义输入（推荐）
1. 打开设置 → 模型设置标签页
2. 在"自定义模型输入"框中输入：`opengvlab/internvl3-14b:free`
3. 查看模型信息确认
4. 点击保存

### InternVL3-14B 模型优势
- 🆓 **免费使用**：`:free` 后缀表示免费
- 👁️ **视觉理解强**：专门优化的视觉语言模型
- 🎯 **适合漫画**：精确的对话框检测能力
- 🇨🇳 **中文友好**：对中文内容理解较好
- ⚡ **性能优秀**：14B参数，平衡性能和速度

## 🔄 一键重置功能

### 何时使用
- 配置出现问题时
- 想要恢复默认设置时
- API密钥或模型设置错误时

### 使用方法
1. 打开设置窗口
2. 点击左下角"重置默认"按钮
3. 在确认对话框中点击"是"
4. 重启应用以生效

## 🎮 界面功能说明

### 左侧控制面板
- **文件操作**：选择图片、保存结果、设置
- **AI检测**：AI检测对话框、进度显示
- **手动调整**：添加区域、删除选中、清除所有
- **检测结果**：显示所有检测到的文本区域
- **文本编辑**：原文显示、译文编辑、AI翻译

### 右侧图片显示
- **图片画布**：显示原图和检测框
- **滚动条**：支持大图片的滚动查看
- **状态栏**：显示当前状态和配置信息

### 交互功能
- **点击选择**：点击检测结果列表选择区域
- **手动绘制**：点击"添加区域"后在图片上绘制
- **实时预览**：选中区域会在图片上高亮显示

## 🛠️ 故障排除

### 问题1：设置界面只显示一个标签页
**解决方案**：已修复！现在会显示所有三个标签页，并有详细的错误处理。

### 问题2：找不到InternVL模型
**解决方案**：
1. 确保选择了OpenRouter作为API服务商
2. 在模型设置标签页的自定义输入框中输入完整模型名称
3. 检查网络连接和API密钥

### 问题3：AI检测失败
**解决方案**：
1. 检查API密钥是否正确
2. 确认模型名称拼写正确
3. 检查网络连接
4. 查看控制台错误信息

### 问题4：翻译质量不佳
**解决方案**：
1. 尝试不同的模型（如GPT-4o用于翻译）
2. 在高级设置中调整提示词
3. 手动编辑翻译结果

## 💡 使用技巧

### 模型选择建议
- **检测任务**：InternVL3-14B, Gemini Pro Vision
- **翻译任务**：GPT-4o, Claude 3.5 Sonnet
- **成本控制**：优先选择免费模型（带:free后缀）
- **中文内容**：InternVL, Qwen系列

### 工作流程优化
1. **批量处理**：先检测所有图片，再统一翻译
2. **质量检查**：检测后手动调整遗漏或错误的区域
3. **翻译优化**：根据上下文手动调整翻译结果
4. **配置保存**：找到满意的配置后及时保存

### 高级功能
- **自定义提示词**：根据漫画类型调整检测提示
- **多模型组合**：检测用一个模型，翻译用另一个
- **配置备份**：备份 `user_config.json` 文件

## 🎉 总结

现在你拥有了一个**功能完整、稳定可靠**的漫画翻译器：

### ✅ 完整功能
- 图片加载和显示
- AI对话框检测
- 手动区域调整
- AI文本翻译
- 结果保存

### ✅ 完善设置
- 三个标签页都能正常显示
- 支持多种API服务商
- 自定义模型输入
- 一键重置功能

### ✅ 用户友好
- 直观的操作界面
- 详细的状态反馈
- 完善的错误处理
- 丰富的配置选项

**立即开始使用完整版漫画翻译器，享受AI驱动的翻译体验！** 🚀

```bash
python comic_translator_app.py
```
